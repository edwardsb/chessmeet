name = "chessmeet-backend"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Durable Objects
[durable_objects]
bindings = [
  { name = "GAMES", class_name = "GameRoom" },
  { name = "QUEUE", class_name = "MatchingQueue" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["GameRoom", "MatchingQueue"]

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "chessmeet-db"
database_id = "3934bff9-5bbf-4319-9cee-0aecf518ceeb" 

[observability]
enabled = true

# Secrets are stored via `wrangler secret put`:
# - CALLS_APP_ID
# - CALLS_APP_SECRET
